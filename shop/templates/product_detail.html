{% extends "base.html" %}
{% load static %}
{% load crispy_forms_tags %}
{% block title %}
Product detail
{% endblock title %}

{% block content %}

<div class="m-3 p-3" id="content-product-detail">
    <div class="container bg-white">
        <div class="row bar">
            <!-- LEFT COLUMN _________________________________________________________-->
            <div class="col-lg-8">
                <div id="productMain" class="row">
                    <div class="col-sm-1">
                        <div data-slider-id="1" class="owl-thumbs">
                            <picture>
                                <source srcset="{{ product.image.url }}" type="image/svg+xml">
                                <img src="{{ product.image.url }}" class="img-fluid img-thumbnail" alt="{{ product.title }}" width="44">
                                <img src="{{ product.image.url }}" class="img-fluid img-thumbnail" alt="{{ product.title }}" width="44">
                                <img src="{{ product.image.url }}" class="img-fluid img-thumbnail" alt="{{ product.title }}" width="44">
                            </picture>
                        </div>
                    </div>
                    <div class="col-sm-11">
                        <div data-slider-id="1" class="owl-carousel shop-detail-carousel">
                            <div> <img src="{{ product.image.url }}" alt="{{ product.title }}" class="img-fluid"></div>
                            <div> <img src="{{ product.image.url }}" alt="{{ product.title }}" class="img-fluid"></div>
                            <div> <img src="{{ product.image.url }}" alt="{{ product.title }}" class="img-fluid"></div>
                        </div>
                    </div>
                </div>
                <div id="description" class="box mb-4 mt-4">
                    <h3 class="font-weight-bold">Description</h3>
                    <p>{{ product.descritption }}</p>
                </div>
            </div>
            <div class="col-lg-3 border bg-white m-4 p-2">
                <!-- MENUS -->
                <form method="post">
                    {% csrf_token %}
                    <div class="panel panel-default sidebar-menu">
                        <div class="panel-heading p-2">
                            <h3 class="h4 panel-title">{{ product.title }}</h3>
                        </div>
                        <div class="panel-body">
                            <div class="price m-1 p-1">  
                                <span> {{ product.price }} </span>
                            </div>
                            <div class="pay-method m-1 p-1">
                                <table style="width: auto; text-align: left;">
                                    <tr>
                                        <td> <img src="/static/img/paypal-logo.png" alt="PayPal Logo" class="lpaypal"></td>
                                        <td><img src="/static/img/visa-logo.png" alt="visa logo"></td>
                                        <td><img src="/static/img/master-card-logo.png" alt="master card logo" class="lmasterc"></td>
                                        <td><img src="/static/img/credibanco-logo.png" alt="credibanco logo" class="lcredibanco"></td>
                                        <td></td>
                                    </tr>
                                </table>
                            </div>
                            <div class="stock m-1 p-1">
                                {{ form|crispy}}
                                <span style="font-size: 10px; color: grey;">({{product.stock}} units avalaible)</span>
                            </div>
                            <div class="actions m-1 p-1">
                                <div class="p-1" id="add_car" name="add_car">
                                    <button type="submit" class="btn btn-template-outlined btn-block" id="btn-open-popup">
                                        <i class="fa fa-shopping-cart"></i> Add to cart
                                    </button>
                                </div>
                                <div class="p-1" id="buy_now" name="buy_now">
                                    <button type="submit" class="btn btn-template-outlined btn-block">
                                        Buy now
                                    </button>
                                </div>
                            </div>
                        </div>
                    </div>
                </form>
            </div>
        </div>
        <div class="overlay d-none d-flex align-items-center justify-content-center visible mt-2 mb-0 ms-0 me-0" id="overlay">
            <div class="popup bg-gray-100 rounded opacity-0" id="popup">
                <table style="width: 100%;">
                    <tr>
                        <td><i class="fa fa-check-circle d-inline text-start btn-info-popup"></i></td>
                        <td><h4 class="d-inline text-center text-header-popup">Your product has been successfully added to your cart.</h4></td>
                        <td style="text-align: right;">
                            <a href="#" id="btn-close" class="d-block text-end btn-close">
                                <i class="fa fa-times btn-close"></i>
                            </a>
                        </td>
                    </tr>
                </table>
                <hr class="bg-danger border-2 border-top border-danger">
                <div class="d-inline-block" id="product-img">
                    <img src="{{ product.image.url }}" alt="{{ product.title }}" width="200">
                </div>
                <div class="d-inline-block" id="product-title">
                    <h3>{{ product.title }}</h3>
                    <h3>{{ product.price }}</h3>
                </div>
                <div class="btn-add-to-cart" id="btn-add-to-cart">
                    <button type="submit" class="btn btn-template-outlined btn-block" id="add-to-cart"> Go to cart </button>
                </div>
                <div class="btn-continue-buy" id="btn-continue-buy">
                    <button type="submit" class="btn btn-template-outlined btn-block"> Continue shopping. </button>
                </div>
            </div>
        </div>
    </div>
</div>
{% endblock content %}


